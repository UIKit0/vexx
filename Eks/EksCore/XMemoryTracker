#ifndef XMEMORYTRACKER
#define XMEMORYTRACKER

#include "XAllocatorBase"
#include "XHash"

class EKSCORE_EXPORT XMemoryTracker : public XAllocatorBase
  {
XProperties:
  XProperty(XAllocatorBase*, forwarder, setForwarder);
  XROProperty(xsize, liveAllocations);

public:
  XMemoryTracker(XAllocatorBase* forwarder);

  bool empty() const { return liveAllocations() == 0; }

  void *alloc(xsize size, xsize alignment=X_ALIGN_BYTE_COUNT);
  void free(void *mem);
  };

#endif // XMEMORYTRACKER
